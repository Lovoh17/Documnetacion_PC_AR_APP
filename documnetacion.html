<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentación - Azamoz Shopping</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Iconos Bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <!-- Highlight.js para sintaxis de código -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">
    <style>
        :root {
            --bs-primary: #60B1E3;
            --bs-secondary: #232F3E;
            --bs-accent: #f39c12;
            --bs-dark-blue: #1A4A6A;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
        }
        
        .doc-sidebar {
            position: sticky;
            top: 20px;
        }
        
        .doc-section {
            scroll-margin-top: 80px;
        }
        
        .nav-link {
            color: var(--bs-secondary);
        }
        
        .nav-link.active {
            color: var(--bs-primary);
            font-weight: 600;
        }
        
        pre {
            border-radius: 8px;
            padding: 15px;
            background: #282c34;
        }
        
        .hljs {
            background: transparent;
        }
        
        .tech-badge {
            background-color: rgba(96, 177, 227, 0.1);
            color: var(--bs-dark-blue);
            padding: 0.5rem 1rem;
            border-radius: 50px;
            font-weight: 500;
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
            display: inline-block;
        }
    </style>
</head>
<body data-bs-spy="scroll" data-bs-target="#doc-nav">
    <!-- Barra de navegación -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary sticky-top">
        <div class="container">
            <a class="navbar-brand" href="/">
                <i class="bi bi-book me-2"></i>Documentación Azamoz
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link text-white" href="/">Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white" href="/contacto.html">Contacto</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container py-5">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-lg-3">
                <div class="doc-sidebar">
                    <nav id="doc-nav" class="nav flex-column">
                        <h5 class="fw-bold mb-3">Documentación</h5>
                        <a class="nav-link" href="#introduccion">Introducción</a>
                        <a class="nav-link" href="#requisitos">Requisitos</a>
                        <a class="nav-link" href="#configuracion">Configuración</a>
                        <a class="nav-link" href="#arquitectura">Arquitectura</a>
                        <a class="nav-link" href="#arcore">ARCore con Java</a>
                        <a class="nav-link" href="#firebase">Firebase</a>
                        <a class="nav-link" href="#despliegue">Despliegue</a>
                    </nav>
                </div>
            </div>
            
            <!-- Contenido principal -->
            <div class="col-lg-9">
                <!-- Introducción -->
                <section id="introduccion" class="doc-section mb-5">
                    <h2 class="fw-bold mb-4">Introducción</h2>
                    <p>Azamoz Shopping es una aplicación de comercio electrónico desarrollada para dispositivos Android que incorpora tecnologías avanzadas como ARCore para ofrecer una experiencia de compra innovadora.</p>
                    <p>La aplicación permite a los usuarios:</p>
                    <ul>
                        <li>Explorar productos en un catálogo organizado</li>
                        <li>Visualizar productos en realidad aumentada</li>
                        <li>Gestionar un carrito de compras</li>
                        <li>Realizar pedidos con seguimiento en tiempo real</li>
                    </ul>
                </section>
                
                <!-- Requisitos -->
                <section id="requisitos" class="doc-section mb-5">
                    <h2 class="fw-bold mb-4">Requisitos</h2>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card h-100">
                                <div class="card-body">
                                    <h5 class="card-title"><i class="bi bi-laptop"></i> Desarrollo</h5>
                                    <ul>
                                        <li>Android Studio 2022+</li>
                                        <li>JDK 11+</li>
                                        <li>Dispositivo con Android 8.0+ (Oreo)</li>
                                        <li>Conexión a internet</li>
                                        <li>Cuenta de desarrollador Google</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card h-100">
                                <div class="card-body">
                                    <h5 class="card-title"><i class="bi bi-phone"></i> Producción</h5>
                                    <ul>
                                        <li>Android 8.0+ (Oreo)</li>
                                        <li>ARCore compatible (para funciones AR)</li>
                                        <li>2GB RAM mínimo</li>
                                        <li>Conexión a internet</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- Configuración -->
                <section id="configuracion" class="doc-section mb-5">
                    <h2 class="fw-bold mb-4">Configuración del Proyecto</h2>
                    <p>Para configurar el proyecto en tu entorno de desarrollo:</p>
                    
                    <ol>
                        <li>Clona el repositorio:
                            <pre><code class="language-bash">git clone https://github.com/0kev0/PC_AR_Store.git</code></pre>
                        </li>
                        <li>Abre el proyecto en Android Studio</li>
                        <li>Configura el archivo <code>google-services.json</code> con tus credenciales de Firebase</li>
                        <li>Sincroniza las dependencias de Gradle</li>
                        <li>Ejecuta la aplicación en un emulador o dispositivo físico</li>
                    </ol>
                </section>
                
                <!-- ARCore con Java -->
                <section id="arcore" class="doc-section mb-5">
                    <h2 class="fw-bold mb-4">ARCore con Android Studio (Java)</h2>
                    <p>ARCore es la plataforma de realidad aumentada de Google que permite a tu aplicación entender el entorno y construir experiencias AR.</p>
                    
                    <h4 class="mt-4">Configuración de ARCore</h4>
                    <ol>
                        <li>Agrega la dependencia en <code>app/build.gradle</code>:
                            <pre><code class="language-groovy">dependencies {
    implementation 'com.google.ar:core:1.35.0'
    implementation 'com.google.ar.sceneform:core:1.17.1'
    implementation 'com.google.ar.sceneform.ux:sceneform-ux:1.17.1'
}</code></pre>
                        </li>
                        <li>Agrega los permisos necesarios en <code>AndroidManifest.xml</code>:
                            <pre><code class="language-xml">&lt;uses-permission android:name="android.permission.CAMERA" /&gt;
&lt;uses-feature android:name="android.hardware.camera.ar" android:required="true" /&gt;

&lt;application&gt;
    &lt;meta-data android:name="com.google.ar.core" android:value="required" /&gt;
&lt;/application&gt;</code></pre>
                        </li>
                    </ol>
                    
                    <h4 class="mt-4">Implementación Básica de ARCore</h4>
                    <p>Ejemplo de cómo crear una actividad AR básica:</p>
                    <pre><code class="language-java">public class ARActivity extends AppCompatActivity {
    private ArFragment arFragment;
    private ModelRenderable modelRenderable;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_ar);

        // Verificar compatibilidad con ARCore
        if (!checkIsSupportedDeviceOrFinish(this)) {
            return;
        }

        arFragment = (ArFragment) getSupportFragmentManager().findFragmentById(R.id.arFragment);
        
        // Cargar modelo 3D
        ModelRenderable.builder()
            .setSource(this, Uri.parse("model.sfb"))
            .build()
            .thenAccept(renderable -> modelRenderable = renderable)
            .exceptionally(throwable -> {
                Toast.makeText(this, "Error cargando modelo", Toast.LENGTH_LONG).show();
                return null;
            });

        // Configurar listener para toques
        arFragment.setOnTapArPlaneListener(
            (HitResult hitResult, Plane plane, MotionEvent motionEvent) -> {
                if (modelRenderable == null) return;

                // Crear ancla en el punto tocado
                Anchor anchor = hitResult.createAnchor();
                AnchorNode anchorNode = new AnchorNode(anchor);
                anchorNode.setParent(arFragment.getArSceneView().getScene());

                // Crear nodo del modelo
                TransformableNode modelNode = new TransformableNode(arFragment.getTransformationSystem());
                modelNode.setParent(anchorNode);
                modelNode.setRenderable(modelRenderable);
                modelNode.select();
            }
        );
    }

    // Verificar si el dispositivo es compatible con ARCore
    public static boolean checkIsSupportedDeviceOrFinish(Activity activity) {
        if (Build.VERSION.SDK_INT < Build.VERSION_CODES.N) {
            Toast.makeText(activity, "ARCore requiere Android 7.0+", Toast.LENGTH_LONG).show();
            activity.finish();
            return false;
        }
        return true;
    }
}</code></pre>
                    
                    <h4 class="mt-4">Consideraciones Importantes</h4>
                    <ul>
                        <li>Los modelos 3D deben estar en formato <code>.sfb</code> (Sceneform Binary)</li>
                        <li>Puedes convertir modelos <code>.obj</code> o <code>.gltf</code> usando Sceneform Tools</li>
                        <li>ARCore consume muchos recursos, optimiza tus modelos</li>
                        <li>Proporciona siempre una alternativa para dispositivos no compatibles</li>
                    </ul>
                    
                    <div class="alert alert-primary mt-4">
                        <i class="bi bi-lightbulb"></i> <strong>Tip:</strong> Para probar en dispositivos no compatibles, usa el emulador ARCore de Android Studio.
                    </div>
                </section>
                
                <!-- Firebase -->
                <section id="firebase" class="doc-section mb-5">
                    <h2 class="fw-bold mb-4">Integración con Firebase</h2>
                    <p>La aplicación utiliza Firebase para:</p>
                    <ul>
                        <li>Autenticación de usuarios</li>
                        <li>Almacenamiento de datos de productos</li>
                        <li>Gestión de pedidos</li>
                        <li>Almacenamiento de imágenes</li>
                    </ul>
                    <p>Configuración básica:</p>
                    <pre><code class="language-java">// Inicializar Firebase
FirebaseApp.initializeApp(this);

// Referencia a Firestore
FirebaseFirestore db = FirebaseFirestore.getInstance();

// Ejemplo: Obtener productos
db.collection("productos")
    .get()
    .addOnCompleteListener(task -> {
        if (task.isSuccessful()) {
            for (QueryDocumentSnapshot document : task.getResult()) {
                Producto producto = document.toObject(Producto.class);
                // Procesar producto
            }
        }
    });</code></pre>
                </section>
                
                <!-- Despliegue -->
                <section id="despliegue" class="doc-section mb-5">
                    <h2 class="fw-bold mb-4">Despliegue de la Aplicación</h2>
                    <p>Para generar un APK listo para producción:</p>
                    <ol>
                        <li>En Android Studio, selecciona <strong>Build > Generate Signed Bundle/APK</strong></li>
                        <li>Crea un keystore si no tienes uno</li>
                        <li>Configura las opciones de firma</li>
                        <li>Selecciona <strong>release</strong> como variante de compilación</li>
                        <li>Finaliza el proceso y localiza el APK generado</li>
                    </ol>
                    
                    <div class="alert alert-warning">
                        <i class="bi bi-exclamation-triangle"></i> <strong>Importante:</strong> Guarda tu keystore en un lugar seguro, es necesario para actualizaciones futuras.
                    </div>
                </section>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="py-4 bg-secondary text-white">
        <div class="container text-center">
            <p class="mb-0">© 2023 Azamoz Shopping. Documentación técnica.</p>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <!-- Smooth scroll -->
    <script>
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });
    </script>
</body>
</html>